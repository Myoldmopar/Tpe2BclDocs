<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: TpeBclCore::Products::DuctlessHeatPumpIndoor
  
    &mdash; Documentation by YARD 0.8.7.6
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!TpeBclCore/Products/DuctlessHeatPumpIndoor.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (D)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../TpeBclCore.html" title="TpeBclCore (module)">TpeBclCore</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Products.html" title="TpeBclCore::Products (module)">Products</a></span></span>
     &raquo; 
    <span class="title">DuctlessHeatPumpIndoor</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: TpeBclCore::Products::DuctlessHeatPumpIndoor
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="ProductBaseClass.html" title="TpeBclCore::Products::ProductBaseClass (class)">ProductBaseClass</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="ProductBaseClass.html" title="TpeBclCore::Products::ProductBaseClass (class)">ProductBaseClass</a></span></li>
          
            <li class="next">TpeBclCore::Products::DuctlessHeatPumpIndoor</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/products/DuctlessHeatPumpIndoor.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A simple module containing routines for writing heat pump water heater
components</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="DuctlessHeatPumpIndoor/Map.html" title="TpeBclCore::Products::DuctlessHeatPumpIndoor::Map (class)">Map</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="PARAM_RATEDCOOLINGCAPACITY-constant" class="">PARAM_RATEDCOOLINGCAPACITY =
          <div class="docstring">
  <div class="discussion">
    
<p>Defines the DHP-Indoor parameter for rated total cooling capacity</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Rated Cooling Capacity</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="PARAM_RATEDCOOLINGSENSIBLEHEATRATIO-constant" class="">PARAM_RATEDCOOLINGSENSIBLEHEATRATIO =
          <div class="docstring">
  <div class="discussion">
    
<p>Defines the DHP-Indoor parameter for rated sensible cooling capacity</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Rated Cooling Sensible Heat Ratio</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="PARAM_RATEDHEATINGCAPACITY-constant" class="">PARAM_RATEDHEATINGCAPACITY =
          <div class="docstring">
  <div class="discussion">
    
<p>Defines the DHP-Indoor parameter for rated heating capacity</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Rated Heating Capacity</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="PARAM_WORKINGREFRIGERANT-constant" class="">PARAM_WORKINGREFRIGERANT =
          <div class="docstring">
  <div class="discussion">
    
<p>Defines the DHP-Indoor parameter for heat pump working refrigerant</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Working Refrigerant</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="PARAM_MOUNTINGTECHNIQUE-constant" class="">PARAM_MOUNTINGTECHNIQUE =
          <div class="docstring">
  <div class="discussion">
    
<p>Defines the DHP-Indoor parameter for unit mounting technique</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Mounting Technique</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="PARAM_RATEDCOOLINGAIRFLOWRATE-constant" class="">PARAM_RATEDCOOLINGAIRFLOWRATE =
          <div class="docstring">
  <div class="discussion">
    
<p>Defines the DHP-Indoor parameter for rated cooling air flow rate</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Rated Cooling Air Flow Rate</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="PARAM_RATEDHEATINGAIRFLOWRATE-constant" class="">PARAM_RATEDHEATINGAIRFLOWRATE =
          <div class="docstring">
  <div class="discussion">
    
<p>Defines the DHP-Indoor parameter for rated heating air flow rate</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Rated Heating Air Flow Rate</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="PARAM_TOTALFANEFFICIENCY-constant" class="">PARAM_TOTALFANEFFICIENCY =
          <div class="docstring">
  <div class="discussion">
    
<p>Defines the DHP-Indoor parameter for total fan efficiency</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Total Fan Efficiency</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="PARAM_FANPOWERINPUT-constant" class="">PARAM_FANPOWERINPUT =
          <div class="docstring">
  <div class="discussion">
    
<p>Defines the DHP-Indoor parameter for fan power input</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Fan Power Input</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="PARAM_COOLINGPERFORMANCEMAP-constant" class="">PARAM_COOLINGPERFORMANCEMAP =
          <div class="docstring">
  <div class="discussion">
    
<p>Defines the DHP-Indoor parameter for cooling performance map file name</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Cooling Performance Map</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="PARAM_HEATINGPERFORMANCEMAP-constant" class="">PARAM_HEATINGPERFORMANCEMAP =
          <div class="docstring">
  <div class="discussion">
    
<p>Defines the DHP-Indoor parameter for heating performance map file name</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Heating Performance Map</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#average_some_data_points-class_method" title="average_some_data_points (class method)">+ (Object) <strong>average_some_data_points</strong>(data_points, htg_or_clg) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This routine averages data point dependent variable values that share the
same independent variables.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#csv_parameters-class_method" title="csv_parameters (class method)">+ (Array&lt;String&gt;) <strong>csv_parameters</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the list of csv parameters established for this product category
Overrides ProductBase.csv_parameters.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#expect_map%3F-class_method" title="expect_map? (class method)">+ (Boolean) <strong>expect_map?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_bcl_parameters-class_method" title="get_bcl_parameters (class method)">+ ({String=&gt;FixNum}) <strong>get_bcl_parameters</strong>(product_data) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the parameters that could be included in the BCL Overrides
ProductBase.get_bcl_parameters.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_xyz_cooling_data-class_method" title="get_xyz_cooling_data (class method)">+ (Array&lt;[x,y,z]&gt;) <strong>get_xyz_cooling_data</strong>(data_set) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A utility function for retreiving the z = f(x,y) for the DHP-indoor cooling
mode data.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_xyz_heating_data-class_method" title="get_xyz_heating_data (class method)">+ (Array&lt;[x,y,z]&gt;) <strong>get_xyz_heating_data</strong>(data_set) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A utility function for retreiving the z = f(x,y) for the DHP-indoor heating
mode data.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#merge_multiple_maps-class_method" title="merge_multiple_maps (class method)">+ (Object) <strong>merge_multiple_maps</strong>(data_sets, htg_or_clg) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Merges multiple map file data sets if they exist for this object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name-class_method" title="name (class method)">+ (String) <strong>name</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the name of this product category Overrides ProductBase.name.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#product_key-class_method" title="product_key (class method)">+ (String) <strong>product_key</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the TPE product key string for this product category Overrides
ProductBase.product_key.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#suitable_for_bcl%3F-class_method" title="suitable_for_bcl? (class method)">+ (Boolean) <strong>suitable_for_bcl?</strong>(product_data) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Used to determine if the data entered for this product is suitable for
mapping to the BCL Any number of rules could be enforced in this routine,
as it is called once all product data has been interpreted Overrides
ProductBase.suitable_for_bcl?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_base_component_parameters-class_method" title="write_base_component_parameters (class method)">+ (Object) <strong>write_base_component_parameters</strong>(product_data) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Writes the DHP indoor components.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_component-class_method" title="write_component (class method)">+ (Object) <strong>write_component</strong>(product_data) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Overrides ProductBase.write_component.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_map_component_parameters-class_method" title="write_map_component_parameters (class method)">+ (Object) <strong>write_map_component_parameters</strong>(_product_data, merged_data_set, htg_or_clg) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This routine writes the map-based components for this component.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  

  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="average_some_data_points-class_method">
  
    + (<tt>Object</tt>) <strong>average_some_data_points</strong>(data_points, htg_or_clg) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This routine averages data point dependent variable values that share the
same independent variables</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>data_points</span>
      
      
        <span class='type'>(<tt>Array&lt;DataSourceType, DataPoint&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An array of data points to average</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/products/DuctlessHeatPumpIndoor.rb', line 562</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_average_some_data_points'>average_some_data_points</span><span class='lparen'>(</span><span class='id identifier rubyid_data_points'>data_points</span><span class='comma'>,</span> <span class='id identifier rubyid_htg_or_clg'>htg_or_clg</span><span class='rparen'>)</span>
  <span class='comment'># OK, so data_points is a list
</span>  <span class='comment'># The first index is the index of the data point
</span>  <span class='comment'># Each data point in the list is also an array
</span>  <span class='comment'># The first index (0) in each data point is a DataSourceType
</span>  <span class='comment'># The second index (1) in each data point is the actual HPWHMapDataPoint
</span>  <span class='kw'>case</span> <span class='id identifier rubyid_htg_or_clg'>htg_or_clg</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>heating</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_heating_capacity_numerator'>heating_capacity_numerator</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_heating_capacity_frac_numerator'>heating_capacity_frac_numerator</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_energy_input_numerator'>energy_input_numerator</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_heating_capacity_denominator'>heating_capacity_denominator</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_heating_capacity_frac_denominator'>heating_capacity_frac_denominator</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_energy_input_denominator'>energy_input_denominator</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_data_points'>data_points</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_point'>point</span><span class='op'>|</span>
      <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Found a map data point to average</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_weight'>weight</span> <span class='op'>=</span> <span class='const'>DataSource</span><span class='op'>::</span><span class='const'>WEIGHTBYSOURCETYPE</span><span class='lbracket'>[</span><span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
      <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Data source type = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>, Weight = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_weight'>weight</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_heating_capacity'>heating_capacity</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This heating capacity is nil, and will not be included in the average</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This heating_capacity = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_heating_capacity'>heating_capacity</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_heating_capacity_numerator'>heating_capacity_numerator</span> <span class='op'>+=</span> <span class='id identifier rubyid_weight'>weight</span> <span class='op'>*</span> <span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_heating_capacity'>heating_capacity</span>
        <span class='id identifier rubyid_heating_capacity_denominator'>heating_capacity_denominator</span> <span class='op'>+=</span> <span class='id identifier rubyid_weight'>weight</span>
      <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_heating_capacity_frac'>heating_capacity_frac</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This heating capacity fraction is nil, and will not be included in the average</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This heating_capacity_frac = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_heating_capacity_frac'>heating_capacity_frac</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_heating_capacity_frac_numerator'>heating_capacity_frac_numerator</span> <span class='op'>+=</span> <span class='id identifier rubyid_weight'>weight</span> <span class='op'>*</span> <span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_heating_capacity_frac'>heating_capacity_frac</span>
        <span class='id identifier rubyid_heating_capacity_frac_denominator'>heating_capacity_frac_denominator</span> <span class='op'>+=</span> <span class='id identifier rubyid_weight'>weight</span>
      <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_energy_input'>energy_input</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This energy input is nil, and will not be included in the average</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This energy_input = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_energy_input'>energy_input</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_energy_input_numerator'>energy_input_numerator</span> <span class='op'>+=</span> <span class='id identifier rubyid_weight'>weight</span> <span class='op'>*</span> <span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_energy_input'>energy_input</span>
        <span class='id identifier rubyid_energy_input_denominator'>energy_input_denominator</span> <span class='op'>+=</span> <span class='id identifier rubyid_weight'>weight</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='lbracket'>[</span><span class='id identifier rubyid_heating_capacity_numerator'>heating_capacity_numerator</span><span class='comma'>,</span> <span class='id identifier rubyid_heating_capacity_frac_numerator'>heating_capacity_frac_numerator</span><span class='comma'>,</span> <span class='id identifier rubyid_energy_input_numerator'>energy_input_numerator</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:nil?</span><span class='rparen'>)</span>
      <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>After averaging, this data point had missing data and will not be included in curve/table generation</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>
    <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Data point has been averaged</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_heating_capacity_average'>heating_capacity_average</span> <span class='op'>=</span> <span class='id identifier rubyid_heating_capacity_numerator'>heating_capacity_numerator</span> <span class='op'>/</span> <span class='id identifier rubyid_heating_capacity_denominator'>heating_capacity_denominator</span>
    <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Resulting heating_capacity_average = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_heating_capacity_average'>heating_capacity_average</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_heating_capacity_frac_average'>heating_capacity_frac_average</span> <span class='op'>=</span> <span class='id identifier rubyid_heating_capacity_frac_numerator'>heating_capacity_frac_numerator</span> <span class='op'>/</span> <span class='id identifier rubyid_heating_capacity_frac_denominator'>heating_capacity_frac_denominator</span>
    <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Resulting heating_capacity_frac_average = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_heating_capacity_frac_average'>heating_capacity_frac_average</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_energy_input_average'>energy_input_average</span> <span class='op'>=</span> <span class='id identifier rubyid_energy_input_numerator'>energy_input_numerator</span> <span class='op'>/</span> <span class='id identifier rubyid_energy_input_denominator'>energy_input_denominator</span>
    <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Resulting energy_input_average = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_energy_input_average'>energy_input_average</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='const'>Map</span><span class='op'>::</span><span class='const'>DhpIndoorMapDataPointHeating</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_data_points'>data_points</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_outdoor_dry_bulb_temp'>outdoor_dry_bulb_temp</span><span class='comma'>,</span> <span class='id identifier rubyid_data_points'>data_points</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_outdoor_wet_bulb_temp'>outdoor_wet_bulb_temp</span><span class='comma'>,</span> <span class='id identifier rubyid_data_points'>data_points</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_indoor_dry_bulb_temp'>indoor_dry_bulb_temp</span><span class='comma'>,</span>
                                                 <span class='id identifier rubyid_heating_capacity_average'>heating_capacity_average</span><span class='comma'>,</span> <span class='id identifier rubyid_energy_input_average'>energy_input_average</span><span class='comma'>,</span> <span class='id identifier rubyid_heating_capacity_average'>heating_capacity_average</span> <span class='op'>/</span> <span class='id identifier rubyid_heating_capacity_frac_average'>heating_capacity_frac_average</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cooling</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_cooling_capacity_numerator'>cooling_capacity_numerator</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_cooling_capacity_frac_numerator'>cooling_capacity_frac_numerator</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_sensible_capacity_numerator'>sensible_capacity_numerator</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_energy_input_numerator'>energy_input_numerator</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_cooling_capacity_denominator'>cooling_capacity_denominator</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_cooling_capacity_frac_denominator'>cooling_capacity_frac_denominator</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_sensible_capacity_denominator'>sensible_capacity_denominator</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_energy_input_denominator'>energy_input_denominator</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_data_points'>data_points</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_point'>point</span><span class='op'>|</span>
      <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Found a map data point to average</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_weight'>weight</span> <span class='op'>=</span> <span class='const'>DataSource</span><span class='op'>::</span><span class='const'>WEIGHTBYSOURCETYPE</span><span class='lbracket'>[</span><span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
      <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Data source type = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>, Weight = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_weight'>weight</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_cooling_capacity'>cooling_capacity</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This cooling capacity is nil, and will not be included in the average</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This cooling_capacity = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_cooling_capacity'>cooling_capacity</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_cooling_capacity_numerator'>cooling_capacity_numerator</span> <span class='op'>+=</span> <span class='id identifier rubyid_weight'>weight</span> <span class='op'>*</span> <span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_cooling_capacity'>cooling_capacity</span>
        <span class='id identifier rubyid_cooling_capacity_denominator'>cooling_capacity_denominator</span> <span class='op'>+=</span> <span class='id identifier rubyid_weight'>weight</span>
      <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_cooling_capacity_frac'>cooling_capacity_frac</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This cooling capacity is nil, and will not be included in the average</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This cooling_capacity_frac = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_cooling_capacity_frac'>cooling_capacity_frac</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_cooling_capacity_frac_numerator'>cooling_capacity_frac_numerator</span> <span class='op'>+=</span> <span class='id identifier rubyid_weight'>weight</span> <span class='op'>*</span> <span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_cooling_capacity_frac'>cooling_capacity_frac</span>
        <span class='id identifier rubyid_cooling_capacity_frac_denominator'>cooling_capacity_frac_denominator</span> <span class='op'>+=</span> <span class='id identifier rubyid_weight'>weight</span>
      <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sensible_capacity'>sensible_capacity</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This sensible capacity is nil, and will not be included in the average</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This sensible_capacity = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sensible_capacity'>sensible_capacity</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_sensible_capacity_numerator'>sensible_capacity_numerator</span> <span class='op'>+=</span> <span class='id identifier rubyid_weight'>weight</span> <span class='op'>*</span> <span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sensible_capacity'>sensible_capacity</span>
        <span class='id identifier rubyid_sensible_capacity_denominator'>sensible_capacity_denominator</span> <span class='op'>+=</span> <span class='id identifier rubyid_weight'>weight</span>
      <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_energy_input'>energy_input</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This energy input is nil, and will not be included in the average</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This energy_input = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_energy_input'>energy_input</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_energy_input_numerator'>energy_input_numerator</span> <span class='op'>+=</span> <span class='id identifier rubyid_weight'>weight</span> <span class='op'>*</span> <span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_energy_input'>energy_input</span>
        <span class='id identifier rubyid_energy_input_denominator'>energy_input_denominator</span> <span class='op'>+=</span> <span class='id identifier rubyid_weight'>weight</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='lbracket'>[</span><span class='id identifier rubyid_cooling_capacity_numerator'>cooling_capacity_numerator</span><span class='comma'>,</span> <span class='id identifier rubyid_cooling_capacity_frac_numerator'>cooling_capacity_frac_numerator</span><span class='comma'>,</span> <span class='id identifier rubyid_sensible_capacity_numerator'>sensible_capacity_numerator</span><span class='comma'>,</span> <span class='id identifier rubyid_energy_input_numerator'>energy_input_numerator</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:nil?</span><span class='rparen'>)</span>
      <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>After averaging, this data point had missing data and will not be included in curve/table generation</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>
    <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Data point has been averaged</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cooling_capacity_average'>cooling_capacity_average</span> <span class='op'>=</span> <span class='id identifier rubyid_cooling_capacity_numerator'>cooling_capacity_numerator</span> <span class='op'>/</span> <span class='id identifier rubyid_cooling_capacity_denominator'>cooling_capacity_denominator</span>
    <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Resulting cooling_capacity_average = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cooling_capacity_average'>cooling_capacity_average</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cooling_capacity_frac_average'>cooling_capacity_frac_average</span> <span class='op'>=</span> <span class='id identifier rubyid_cooling_capacity_frac_numerator'>cooling_capacity_frac_numerator</span> <span class='op'>/</span> <span class='id identifier rubyid_cooling_capacity_frac_denominator'>cooling_capacity_frac_denominator</span>
    <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Resulting cooling_capacity_frac_average = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cooling_capacity_frac_average'>cooling_capacity_frac_average</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_sensible_capacity_average'>sensible_capacity_average</span> <span class='op'>=</span> <span class='id identifier rubyid_sensible_capacity_numerator'>sensible_capacity_numerator</span> <span class='op'>/</span> <span class='id identifier rubyid_sensible_capacity_denominator'>sensible_capacity_denominator</span>
    <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Resulting sensible_capacity_average = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_sensible_capacity_average'>sensible_capacity_average</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_energy_input_average'>energy_input_average</span> <span class='op'>=</span> <span class='id identifier rubyid_energy_input_numerator'>energy_input_numerator</span> <span class='op'>/</span> <span class='id identifier rubyid_energy_input_denominator'>energy_input_denominator</span>
    <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Resulting energy_input_average = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_energy_input_average'>energy_input_average</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='const'>Map</span><span class='op'>::</span><span class='const'>DhpIndoorMapDataPointCooling</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_data_points'>data_points</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_outdoor_dry_bulb_temp'>outdoor_dry_bulb_temp</span><span class='comma'>,</span> <span class='id identifier rubyid_data_points'>data_points</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_indoor_wet_bulb_temp'>indoor_wet_bulb_temp</span><span class='comma'>,</span> <span class='id identifier rubyid_cooling_capacity_average'>cooling_capacity_average</span><span class='comma'>,</span>
                                                 <span class='id identifier rubyid_sensible_capacity_average'>sensible_capacity_average</span><span class='comma'>,</span> <span class='id identifier rubyid_energy_input_average'>energy_input_average</span><span class='comma'>,</span> <span class='id identifier rubyid_cooling_capacity_average'>cooling_capacity_average</span> <span class='op'>/</span> <span class='id identifier rubyid_cooling_capacity_frac_average'>cooling_capacity_frac_average</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="csv_parameters-class_method">
  
    + (<tt>Array&lt;String&gt;</tt>) <strong>csv_parameters</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the list of csv parameters established for this product category
Overrides ProductBase.csv_parameters</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A list of csv parameter names</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


48
49
50
51
52
53
54
55
56
57
58
59
60</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/products/DuctlessHeatPumpIndoor.rb', line 48</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_csv_parameters'>csv_parameters</span>
  <span class='lbracket'>[</span><span class='const'>PARAM_RATEDCOOLINGCAPACITY</span><span class='comma'>,</span>
   <span class='const'>PARAM_RATEDCOOLINGSENSIBLEHEATRATIO</span><span class='comma'>,</span>
   <span class='const'>PARAM_RATEDHEATINGCAPACITY</span><span class='comma'>,</span>
   <span class='const'>PARAM_WORKINGREFRIGERANT</span><span class='comma'>,</span>
   <span class='const'>PARAM_MOUNTINGTECHNIQUE</span><span class='comma'>,</span>
   <span class='const'>PARAM_RATEDCOOLINGAIRFLOWRATE</span><span class='comma'>,</span>
   <span class='const'>PARAM_RATEDHEATINGAIRFLOWRATE</span><span class='comma'>,</span>
   <span class='const'>PARAM_TOTALFANEFFICIENCY</span><span class='comma'>,</span>
   <span class='const'>PARAM_FANPOWERINPUT</span><span class='comma'>,</span>
   <span class='const'>PARAM_COOLINGPERFORMANCEMAP</span><span class='comma'>,</span>
   <span class='const'>PARAM_HEATINGPERFORMANCEMAP</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="expect_map?-class_method">
  
    + (<tt>Boolean</tt>) <strong>expect_map?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


62
63
64</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/products/DuctlessHeatPumpIndoor.rb', line 62</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_expect_map?'>expect_map?</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_bcl_parameters-class_method">
  
    + (<tt>{String=&gt;FixNum}</tt>) <strong>get_bcl_parameters</strong>(product_data) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the parameters that could be included in the BCL Overrides
ProductBase.get_bcl_parameters</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>{String=&gt;FixNum}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Returns a hash mapping parameter names with averaged values</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


79
80
81
82
83
84
85
86
87
88
89
90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/products/DuctlessHeatPumpIndoor.rb', line 79</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_bcl_parameters'>get_bcl_parameters</span><span class='lparen'>(</span><span class='id identifier rubyid_product_data'>product_data</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_parameters'>parameters</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_params_to_include'>params_to_include</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='const'>PARAM_RATEDCOOLINGCAPACITY</span><span class='comma'>,</span> <span class='const'>PARAM_RATEDHEATINGCAPACITY</span><span class='comma'>,</span> <span class='const'>PARAM_RATEDCOOLINGAIRFLOWRATE</span><span class='comma'>,</span>
                       <span class='const'>PARAM_RATEDHEATINGAIRFLOWRATE</span><span class='comma'>,</span> <span class='const'>PARAM_WORKINGREFRIGERANT</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_params_to_include'>params_to_include</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
    <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_product_data'>product_data</span><span class='period'>.</span><span class='id identifier rubyid_data_from_csv'>data_from_csv</span><span class='period'>.</span><span class='id identifier rubyid_get_parameter_average_value_by_descriptor'>get_parameter_average_value_by_descriptor</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key BCL parameter, named &#39;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;, was not found in the input.  Skipping...</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_parameters'>parameters</span><span class='lbracket'>[</span><span class='id identifier rubyid_x'>x</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_parameters'>parameters</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_xyz_cooling_data-class_method">
  
    + (<tt>Array&lt;[x,y,z]&gt;</tt>) <strong>get_xyz_cooling_data</strong>(data_set) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>A utility function for retreiving the z = f(x,y) for the DHP-indoor cooling
mode data</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;[x,y,z]&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The map data in form [x,y,z]</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


705
706
707
708
709
710
711</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/products/DuctlessHeatPumpIndoor.rb', line 705</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_xyz_cooling_data'>get_xyz_cooling_data</span><span class='lparen'>(</span><span class='id identifier rubyid_data_set'>data_set</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_out'>out</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_data_set'>data_set</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_datum'>datum</span><span class='op'>|</span>
    <span class='id identifier rubyid_out'>out</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_datum'>datum</span><span class='period'>.</span><span class='id identifier rubyid_indoor_wet_bulb_temp'>indoor_wet_bulb_temp</span><span class='comma'>,</span> <span class='id identifier rubyid_datum'>datum</span><span class='period'>.</span><span class='id identifier rubyid_outdoor_dry_bulb_temp'>outdoor_dry_bulb_temp</span><span class='comma'>,</span> <span class='id identifier rubyid_datum'>datum</span><span class='period'>.</span><span class='id identifier rubyid_cooling_capacity_frac'>cooling_capacity_frac</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_out'>out</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_xyz_heating_data-class_method">
  
    + (<tt>Array&lt;[x,y,z]&gt;</tt>) <strong>get_xyz_heating_data</strong>(data_set) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>A utility function for retreiving the z = f(x,y) for the DHP-indoor heating
mode data</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;[x,y,z]&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The map data in form [x,y,z]</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


695
696
697
698
699
700
701</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/products/DuctlessHeatPumpIndoor.rb', line 695</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_xyz_heating_data'>get_xyz_heating_data</span><span class='lparen'>(</span><span class='id identifier rubyid_data_set'>data_set</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_out'>out</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_data_set'>data_set</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_datum'>datum</span><span class='op'>|</span>
    <span class='id identifier rubyid_out'>out</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_datum'>datum</span><span class='period'>.</span><span class='id identifier rubyid_indoor_dry_bulb_temp'>indoor_dry_bulb_temp</span><span class='comma'>,</span> <span class='id identifier rubyid_datum'>datum</span><span class='period'>.</span><span class='id identifier rubyid_outdoor_wet_bulb_temp'>outdoor_wet_bulb_temp</span><span class='comma'>,</span> <span class='id identifier rubyid_datum'>datum</span><span class='period'>.</span><span class='id identifier rubyid_heating_capacity_frac'>heating_capacity_frac</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_out'>out</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="merge_multiple_maps-class_method">
  
    + (<tt>Object</tt>) <strong>merge_multiple_maps</strong>(data_sets, htg_or_clg) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Merges multiple map file data sets if they exist for this object</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>data_sets</span>
      
      
        <span class='type'>(<tt>Array&lt;DataSourceType, DataPoint&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An array of datasets, each of which contains the type of data source for
averaging</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>htg_or_clg</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A string, either heating or cooling used to specify the type of merger
to perform</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/products/DuctlessHeatPumpIndoor.rb', line 508</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_merge_multiple_maps'>merge_multiple_maps</span><span class='lparen'>(</span><span class='id identifier rubyid_data_sets'>data_sets</span><span class='comma'>,</span> <span class='id identifier rubyid_htg_or_clg'>htg_or_clg</span><span class='rparen'>)</span>
  <span class='comment'># first just put all the points in one big array
</span>  <span class='id identifier rubyid_all_data_points'>all_data_points</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_data_sets'>data_sets</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_this_map'>this_map</span><span class='op'>|</span>
    <span class='id identifier rubyid_this_map'>this_map</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_this_data_point'>this_data_point</span><span class='op'>|</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_htg_or_clg'>htg_or_clg</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>heating</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>if</span> <span class='id identifier rubyid_this_data_point'>this_data_point</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Map</span><span class='op'>::</span><span class='const'>DhpIndoorMapDataPointHeating</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_all_data_points'>all_data_points</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_this_map'>this_map</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_this_data_point'>this_data_point</span><span class='rbracket'>]</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cooling</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>if</span> <span class='id identifier rubyid_this_data_point'>this_data_point</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Map</span><span class='op'>::</span><span class='const'>DhpIndoorMapDataPointCooling</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_all_data_points'>all_data_points</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_this_map'>this_map</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_this_data_point'>this_data_point</span><span class='rbracket'>]</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'># then loop over this list, and find the unique independent variable combinations
</span>  <span class='id identifier rubyid_unique_independent_vars'>unique_independent_vars</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_all_data_points'>all_data_points</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_this_data_point'>this_data_point</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_htg_or_clg'>htg_or_clg</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>heating</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_independent_vars'>independent_vars</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_this_data_point'>this_data_point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_outdoor_dry_bulb_temp'>outdoor_dry_bulb_temp</span><span class='comma'>,</span> <span class='id identifier rubyid_this_data_point'>this_data_point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_outdoor_wet_bulb_temp'>outdoor_wet_bulb_temp</span><span class='comma'>,</span> <span class='id identifier rubyid_this_data_point'>this_data_point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_indoor_dry_bulb_temp'>indoor_dry_bulb_temp</span><span class='rbracket'>]</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cooling</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_independent_vars'>independent_vars</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_this_data_point'>this_data_point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_outdoor_dry_bulb_temp'>outdoor_dry_bulb_temp</span><span class='comma'>,</span> <span class='id identifier rubyid_this_data_point'>this_data_point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_indoor_wet_bulb_temp'>indoor_wet_bulb_temp</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_unique_independent_vars'>unique_independent_vars</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_independent_vars'>independent_vars</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_unique_independent_vars'>unique_independent_vars</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_independent_vars'>independent_vars</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'># now loop over the independent variable combinations and do the averaging
</span>  <span class='id identifier rubyid_final_data_set'>final_data_set</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_unique_independent_vars'>unique_independent_vars</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_these_independent_vars'>these_independent_vars</span><span class='op'>|</span>
    <span class='id identifier rubyid_matched_data_points'>matched_data_points</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_htg_or_clg'>htg_or_clg</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>heating</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_matched_data_points'>matched_data_points</span> <span class='op'>=</span> <span class='id identifier rubyid_all_data_points'>all_data_points</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_data_point'>data_point</span><span class='op'>|</span> <span class='id identifier rubyid_data_point'>data_point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_outdoor_dry_bulb_temp'>outdoor_dry_bulb_temp</span> <span class='op'>==</span> <span class='id identifier rubyid_these_independent_vars'>these_independent_vars</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_data_point'>data_point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_outdoor_wet_bulb_temp'>outdoor_wet_bulb_temp</span> <span class='op'>==</span> <span class='id identifier rubyid_these_independent_vars'>these_independent_vars</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_data_point'>data_point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_indoor_dry_bulb_temp'>indoor_dry_bulb_temp</span> <span class='op'>==</span> <span class='id identifier rubyid_these_independent_vars'>these_independent_vars</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cooling</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_matched_data_points'>matched_data_points</span> <span class='op'>=</span> <span class='id identifier rubyid_all_data_points'>all_data_points</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_data_point'>data_point</span><span class='op'>|</span> <span class='id identifier rubyid_data_point'>data_point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_outdoor_dry_bulb_temp'>outdoor_dry_bulb_temp</span> <span class='op'>==</span> <span class='id identifier rubyid_these_independent_vars'>these_independent_vars</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_data_point'>data_point</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_indoor_wet_bulb_temp'>indoor_wet_bulb_temp</span>  <span class='op'>==</span> <span class='id identifier rubyid_these_independent_vars'>these_independent_vars</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_average_point'>average_point</span> <span class='op'>=</span> <span class='id identifier rubyid_average_some_data_points'>average_some_data_points</span><span class='lparen'>(</span><span class='id identifier rubyid_matched_data_points'>matched_data_points</span><span class='comma'>,</span> <span class='id identifier rubyid_htg_or_clg'>htg_or_clg</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_average_point'>average_point</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Nil averaged data point encountered, not included in final dataset</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='gvar'>$log</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Data point averaged successfully, added to final dataset</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_final_data_set'>final_data_set</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_average_point'>average_point</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'># return the final set
</span>  <span class='id identifier rubyid_final_data_set'>final_data_set</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="name-class_method">
  
    + (<tt>String</tt>) <strong>name</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the name of this product category Overrides ProductBase.name</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The name of this product category</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/products/DuctlessHeatPumpIndoor.rb', line 11</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Ductless Heat Pump Indoor Unit</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="product_key-class_method">
  
    + (<tt>String</tt>) <strong>product_key</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the TPE product key string for this product category Overrides
ProductBase.product_key</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The product key for this product category</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/products/DuctlessHeatPumpIndoor.rb', line 18</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_product_key'>product_key</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ndrnt</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="suitable_for_bcl?-class_method">
  
    + (<tt>Boolean</tt>) <strong>suitable_for_bcl?</strong>(product_data) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Used to determine if the data entered for this product is suitable for
mapping to the BCL Any number of rules could be enforced in this routine,
as it is called once all product data has been interpreted Overrides
ProductBase.suitable_for_bcl?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Returns true if the product is suitable for pushing, false if not.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


70
71
72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/products/DuctlessHeatPumpIndoor.rb', line 70</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_suitable_for_bcl?'>suitable_for_bcl?</span><span class='lparen'>(</span><span class='id identifier rubyid_product_data'>product_data</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_required_parameters'>required_parameters</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='const'>PARAM_RATEDCOOLINGCAPACITY</span><span class='comma'>,</span> <span class='const'>PARAM_RATEDHEATINGCAPACITY</span><span class='comma'>,</span> <span class='const'>PARAM_WORKINGREFRIGERANT</span><span class='comma'>,</span>
                         <span class='const'>PARAM_RATEDCOOLINGAIRFLOWRATE</span><span class='comma'>,</span> <span class='const'>PARAM_RATEDHEATINGAIRFLOWRATE</span><span class='comma'>,</span> <span class='const'>PARAM_RATEDCOOLINGSENSIBLEHEATRATIO</span><span class='rbracket'>]</span>
  <span class='kw'>return</span> <span class='const'>ParameterList</span><span class='period'>.</span><span class='id identifier rubyid_validate_required_parameters'>validate_required_parameters</span><span class='lparen'>(</span><span class='id identifier rubyid_product_data'>product_data</span><span class='comma'>,</span> <span class='id identifier rubyid_required_parameters'>required_parameters</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="write_base_component_parameters-class_method">
  
    + (<tt>Object</tt>) <strong>write_base_component_parameters</strong>(product_data) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Writes the DHP indoor components</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>product_data</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../SingleProductData.html" title="TpeBclCore::SingleProductData (class)">SingleProductData</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A product performance data structure used to write components</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/products/DuctlessHeatPumpIndoor.rb', line 111</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_write_base_component_parameters'>write_base_component_parameters</span><span class='lparen'>(</span><span class='id identifier rubyid_product_data'>product_data</span><span class='rparen'>)</span>
  <span class='comment'># get parameters first
</span>  <span class='id identifier rubyid_clg_flow_rate'>clg_flow_rate</span> <span class='op'>=</span> <span class='id identifier rubyid_product_data'>product_data</span><span class='period'>.</span><span class='id identifier rubyid_data_from_csv'>data_from_csv</span><span class='period'>.</span><span class='id identifier rubyid_get_parameter_average_value_by_descriptor'>get_parameter_average_value_by_descriptor</span><span class='lparen'>(</span><span class='const'>PARAM_RATEDCOOLINGAIRFLOWRATE</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_htg_flow_rate'>htg_flow_rate</span> <span class='op'>=</span> <span class='id identifier rubyid_product_data'>product_data</span><span class='period'>.</span><span class='id identifier rubyid_data_from_csv'>data_from_csv</span><span class='period'>.</span><span class='id identifier rubyid_get_parameter_average_value_by_descriptor'>get_parameter_average_value_by_descriptor</span><span class='lparen'>(</span><span class='const'>PARAM_RATEDHEATINGAIRFLOWRATE</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_clg_total_capacity'>clg_total_capacity</span> <span class='op'>=</span> <span class='id identifier rubyid_product_data'>product_data</span><span class='period'>.</span><span class='id identifier rubyid_data_from_csv'>data_from_csv</span><span class='period'>.</span><span class='id identifier rubyid_get_parameter_average_value_by_descriptor'>get_parameter_average_value_by_descriptor</span><span class='lparen'>(</span><span class='const'>PARAM_RATEDCOOLINGCAPACITY</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_clg_rated_shr'>clg_rated_shr</span> <span class='op'>=</span> <span class='id identifier rubyid_product_data'>product_data</span><span class='period'>.</span><span class='id identifier rubyid_data_from_csv'>data_from_csv</span><span class='period'>.</span><span class='id identifier rubyid_get_parameter_average_value_by_descriptor'>get_parameter_average_value_by_descriptor</span><span class='lparen'>(</span><span class='const'>PARAM_RATEDCOOLINGSENSIBLEHEATRATIO</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_htg_capacity'>htg_capacity</span> <span class='op'>=</span> <span class='id identifier rubyid_product_data'>product_data</span><span class='period'>.</span><span class='id identifier rubyid_data_from_csv'>data_from_csv</span><span class='period'>.</span><span class='id identifier rubyid_get_parameter_average_value_by_descriptor'>get_parameter_average_value_by_descriptor</span><span class='lparen'>(</span><span class='const'>PARAM_RATEDHEATINGCAPACITY</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_fan_max_flow_rate'>fan_max_flow_rate</span> <span class='op'>=</span> <span class='id identifier rubyid_htg_flow_rate'>htg_flow_rate</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_clg_flow_rate'>clg_flow_rate</span> <span class='op'>?</span> <span class='id identifier rubyid_htg_flow_rate'>htg_flow_rate</span> <span class='op'>:</span> <span class='id identifier rubyid_clg_flow_rate'>clg_flow_rate</span>

  <span class='comment'># create a new terminal unit from the model
</span>  <span class='gvar'>$tu</span> <span class='op'>=</span> <span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>ZoneHVACTerminalUnitVariableRefrigerantFlow</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='gvar'>$osm</span><span class='period'>.</span><span class='id identifier rubyid_osm_model'>osm_model</span><span class='rparen'>)</span>
  <span class='gvar'>$tu</span><span class='period'>.</span><span class='id identifier rubyid_setName'>setName</span><span class='lparen'>(</span><span class='id identifier rubyid_product_data'>product_data</span><span class='period'>.</span><span class='id identifier rubyid_product_name'>product_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_max_flow_rate'>max_flow_rate</span> <span class='op'>=</span> <span class='float'>0.0</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_clg_flow_rate'>clg_flow_rate</span>
    <span class='gvar'>$tu</span><span class='period'>.</span><span class='id identifier rubyid_setSupplyAirFlowRateDuringCoolingOperation'>setSupplyAirFlowRateDuringCoolingOperation</span><span class='lparen'>(</span><span class='id identifier rubyid_clg_flow_rate'>clg_flow_rate</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_max_flow_rate'>max_flow_rate</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_max_flow_rate'>max_flow_rate</span><span class='comma'>,</span> <span class='id identifier rubyid_clg_flow_rate'>clg_flow_rate</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_htg_flow_rate'>htg_flow_rate</span>
    <span class='gvar'>$tu</span><span class='period'>.</span><span class='id identifier rubyid_setSupplyAirFlowRateDuringHeatingOperation'>setSupplyAirFlowRateDuringHeatingOperation</span><span class='lparen'>(</span><span class='id identifier rubyid_htg_flow_rate'>htg_flow_rate</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_max_flow_rate'>max_flow_rate</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_max_flow_rate'>max_flow_rate</span><span class='comma'>,</span> <span class='id identifier rubyid_htg_flow_rate'>htg_flow_rate</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
  <span class='kw'>end</span>

  <span class='comment'># create the child fan and assign it -- making this global because we&#39;ll need to optionally append curves later
</span>  <span class='gvar'>$tu</span><span class='period'>.</span><span class='id identifier rubyid_supplyAirFan'>supplyAirFan</span><span class='period'>.</span><span class='id identifier rubyid_to_FanOnOff'>to_FanOnOff</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span><span class='period'>.</span><span class='id identifier rubyid_setMaximumFlowRate'>setMaximumFlowRate</span><span class='lparen'>(</span><span class='id identifier rubyid_max_flow_rate'>max_flow_rate</span><span class='rparen'>)</span>

  <span class='comment'># adjust the child cooling coil
</span>  <span class='gvar'>$tu</span><span class='period'>.</span><span class='id identifier rubyid_coolingCoil'>coolingCoil</span><span class='period'>.</span><span class='id identifier rubyid_setRatedAirFlowRate'>setRatedAirFlowRate</span><span class='lparen'>(</span><span class='id identifier rubyid_clg_flow_rate'>clg_flow_rate</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_clg_flow_rate'>clg_flow_rate</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='gvar'>$tu</span><span class='period'>.</span><span class='id identifier rubyid_coolingCoil'>coolingCoil</span><span class='period'>.</span><span class='id identifier rubyid_setRatedTotalCoolingCapacity'>setRatedTotalCoolingCapacity</span><span class='lparen'>(</span><span class='id identifier rubyid_clg_total_capacity'>clg_total_capacity</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_clg_total_capacity'>clg_total_capacity</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='gvar'>$tu</span><span class='period'>.</span><span class='id identifier rubyid_coolingCoil'>coolingCoil</span><span class='period'>.</span><span class='id identifier rubyid_setRatedSensibleHeatRatio'>setRatedSensibleHeatRatio</span><span class='lparen'>(</span><span class='id identifier rubyid_clg_rated_shr'>clg_rated_shr</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_clg_rated_shr'>clg_rated_shr</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

  <span class='comment'># adjust the child heating coil
</span>  <span class='gvar'>$tu</span><span class='period'>.</span><span class='id identifier rubyid_heatingCoil'>heatingCoil</span><span class='period'>.</span><span class='id identifier rubyid_setRatedAirFlowRate'>setRatedAirFlowRate</span><span class='lparen'>(</span><span class='id identifier rubyid_htg_flow_rate'>htg_flow_rate</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_htg_flow_rate'>htg_flow_rate</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='gvar'>$tu</span><span class='period'>.</span><span class='id identifier rubyid_heatingCoil'>heatingCoil</span><span class='period'>.</span><span class='id identifier rubyid_setRatedTotalHeatingCapacity'>setRatedTotalHeatingCapacity</span><span class='lparen'>(</span><span class='id identifier rubyid_htg_capacity'>htg_capacity</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_htg_capacity'>htg_capacity</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="write_component-class_method">
  
    + (<tt>Object</tt>) <strong>write_component</strong>(product_data) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Overrides ProductBase.write_component</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>product_data</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../SingleProductData.html" title="TpeBclCore::SingleProductData (class)">SingleProductData</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A product performance data structure used to write components</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


96
97
98
99
100
101
102
103
104
105
106
107</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/products/DuctlessHeatPumpIndoor.rb', line 96</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_write_component'>write_component</span><span class='lparen'>(</span><span class='id identifier rubyid_product_data'>product_data</span><span class='rparen'>)</span>
  <span class='comment'># write the base components
</span>  <span class='id identifier rubyid_write_base_component_parameters'>write_base_component_parameters</span><span class='lparen'>(</span><span class='id identifier rubyid_product_data'>product_data</span><span class='rparen'>)</span>

  <span class='comment'># merge multiple maps
</span>  <span class='id identifier rubyid_merged_htg_data_set'>merged_htg_data_set</span> <span class='op'>=</span> <span class='id identifier rubyid_product_data'>product_data</span><span class='period'>.</span><span class='id identifier rubyid_product_category'>product_category</span><span class='period'>.</span><span class='id identifier rubyid_merge_multiple_maps'>merge_multiple_maps</span><span class='lparen'>(</span><span class='id identifier rubyid_product_data'>product_data</span><span class='period'>.</span><span class='id identifier rubyid_data_from_maps'>data_from_maps</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>heating</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_merged_clg_data_set'>merged_clg_data_set</span> <span class='op'>=</span> <span class='id identifier rubyid_product_data'>product_data</span><span class='period'>.</span><span class='id identifier rubyid_product_category'>product_category</span><span class='period'>.</span><span class='id identifier rubyid_merge_multiple_maps'>merge_multiple_maps</span><span class='lparen'>(</span><span class='id identifier rubyid_product_data'>product_data</span><span class='period'>.</span><span class='id identifier rubyid_data_from_maps'>data_from_maps</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cooling</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

  <span class='comment'># write map components
</span>  <span class='id identifier rubyid_product_data'>product_data</span><span class='period'>.</span><span class='id identifier rubyid_product_category'>product_category</span><span class='period'>.</span><span class='id identifier rubyid_write_map_component_parameters'>write_map_component_parameters</span><span class='lparen'>(</span><span class='id identifier rubyid_product_data'>product_data</span><span class='comma'>,</span> <span class='id identifier rubyid_merged_htg_data_set'>merged_htg_data_set</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>heating</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_product_data'>product_data</span><span class='period'>.</span><span class='id identifier rubyid_product_category'>product_category</span><span class='period'>.</span><span class='id identifier rubyid_write_map_component_parameters'>write_map_component_parameters</span><span class='lparen'>(</span><span class='id identifier rubyid_product_data'>product_data</span><span class='comma'>,</span> <span class='id identifier rubyid_merged_clg_data_set'>merged_clg_data_set</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cooling</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="write_map_component_parameters-class_method">
  
    + (<tt>Object</tt>) <strong>write_map_component_parameters</strong>(_product_data, merged_data_set, htg_or_clg) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This routine writes the map-based components for this component</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>merged_data_set</span>
      
      
        <span class='type'>(<tt>Array&lt;DataPoint&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A data set, after being post-processed with merging, to be written to the
osc</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>htg_or_clg</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A string variable, either heating or cooling, to determine which map
objects to write</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


678
679
680
681
682
683
684
685
686
687
688
689
690
691</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/products/DuctlessHeatPumpIndoor.rb', line 678</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_write_map_component_parameters'>write_map_component_parameters</span><span class='lparen'>(</span><span class='id identifier rubyid__product_data'>_product_data</span><span class='comma'>,</span> <span class='id identifier rubyid_merged_data_set'>merged_data_set</span><span class='comma'>,</span> <span class='id identifier rubyid_htg_or_clg'>htg_or_clg</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_htg_or_clg'>htg_or_clg</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>heating</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_units_array'>units_array</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='const'>OSMWriter</span><span class='op'>::</span><span class='const'>UNIT_TYPE_TEMPERATURE</span><span class='comma'>,</span> <span class='const'>OSMWriter</span><span class='op'>::</span><span class='const'>UNIT_TYPE_TEMPERATURE</span><span class='comma'>,</span> <span class='const'>OSMWriter</span><span class='op'>::</span><span class='const'>UNIT_TYPE_DIMENSIONLESS</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_all_values'>all_values</span> <span class='op'>=</span> <span class='id identifier rubyid_get_xyz_heating_data'>get_xyz_heating_data</span><span class='lparen'>(</span><span class='id identifier rubyid_merged_data_set'>merged_data_set</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_table_curve'>table_curve</span> <span class='op'>=</span> <span class='gvar'>$osm</span><span class='period'>.</span><span class='id identifier rubyid_write_two_indep_var_table'>write_two_indep_var_table</span><span class='lparen'>(</span><span class='id identifier rubyid_all_values'>all_values</span><span class='comma'>,</span> <span class='id identifier rubyid_units_array'>units_array</span><span class='rparen'>)</span>
    <span class='gvar'>$tu</span><span class='period'>.</span><span class='id identifier rubyid_heatingCoil'>heatingCoil</span><span class='period'>.</span><span class='id identifier rubyid_setHeatingCapacityRatioModifierFunctionofTemperatureCurve'>setHeatingCapacityRatioModifierFunctionofTemperatureCurve</span><span class='lparen'>(</span><span class='id identifier rubyid_table_curve'>table_curve</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cooling</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_units_array'>units_array</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='const'>OSMWriter</span><span class='op'>::</span><span class='const'>UNIT_TYPE_TEMPERATURE</span><span class='comma'>,</span> <span class='const'>OSMWriter</span><span class='op'>::</span><span class='const'>UNIT_TYPE_TEMPERATURE</span><span class='comma'>,</span> <span class='const'>OSMWriter</span><span class='op'>::</span><span class='const'>UNIT_TYPE_DIMENSIONLESS</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_all_values'>all_values</span> <span class='op'>=</span> <span class='id identifier rubyid_get_xyz_cooling_data'>get_xyz_cooling_data</span><span class='lparen'>(</span><span class='id identifier rubyid_merged_data_set'>merged_data_set</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_table_curve'>table_curve</span> <span class='op'>=</span> <span class='gvar'>$osm</span><span class='period'>.</span><span class='id identifier rubyid_write_two_indep_var_table'>write_two_indep_var_table</span><span class='lparen'>(</span><span class='id identifier rubyid_all_values'>all_values</span><span class='comma'>,</span> <span class='id identifier rubyid_units_array'>units_array</span><span class='rparen'>)</span>
    <span class='gvar'>$tu</span><span class='period'>.</span><span class='id identifier rubyid_coolingCoil'>coolingCoil</span><span class='period'>.</span><span class='id identifier rubyid_setCoolingCapacityRatioModifierFunctionofTemperatureCurve'>setCoolingCapacityRatioModifierFunctionofTemperatureCurve</span><span class='lparen'>(</span><span class='id identifier rubyid_table_curve'>table_curve</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Sat May 28 09:32:51 2016 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.0.0).
</div>

  </body>
</html>